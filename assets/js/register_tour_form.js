$(function(){$(".select-date").on("valueChanged",function(){var value=$(this).attr("data-value");$("input[name='tpd_kode']").val(value)});$(".btn-tambah-no-hp").on("click",function(){var element="<input type='text' class='form-input-inline input-hp' maxlength='20' data-type='number' />";$(".input-hp-container").append(element);$(".input-hp:nth-last-child(1)").focus()});$(".input-date").on("input",function(){var value=parseInt($(this).val());if(value>31){$(this).addClass("input-error")}else{$(this).removeClass("input-error")}});$(".input-month").on("input",function(){var value=parseInt($(this).val());if(value>12){$(this).addClass("input-error")}else{$(this).removeClass("input-error")}});$(".input-year").on("input",function(){var value=$(this).val();if(value.length==4){$(this).removeClass("input-error")}});$(".input-year").on("blur",function(){var value=$(this).val();if(value.length>0&&value.length<4){$(this).addClass("input-error")}else{$(this).removeClass("input-error")}});$(".radio-container").on("selected",function(){var name=$(this).attr("data-name");var value=$(this).attr("data-value");$(".input-"+name).val(value);$(this).siblings(".error").html("")});$(".input-upload-foto-passport").on("change",function(){var formRight=$(this).closest(".form-right");var previewElement=formRight.find(".image-preview");if(this.files.length>0){var reader=new FileReader();reader.onload=function(e){formRight.addClass("image-added");previewElement.attr("src",e.target.result);$(".input-foto-passport").val(e.target.result)};reader.readAsDataURL(this.files[0])}});$(".btn-delete-image").on("click",function(){var formRight=$(this).closest(".form-right");var previewElement=formRight.find(".image-preview");var input=formRight.find(".input-upload");clearInputFile(input[0]);$(".input-foto-passport").val("");previewElement.removeAttr("src");formRight.removeClass("image-added")});$(".btn-register").on("click",function(){if(!$(this).hasClass("disabled")){clearAllErrors();var valid=!0;var email=$(".input-email").val().trim();var namaDepan=$(".input-nama-depan").val().trim();var jk=$(".input-jk").val();var hp=$(".input-hp").val().trim();if(email==""){valid=!1;$(".input-email").addClass("input-error");$(".error-email").html("Email harus diisi")}
if(namaDepan==""){valid=!1;$(".input-nama-depan").addClass("input-error");$(".error-nama-depan").html("Nama harus diisi")}
if(jk==""){valid=!1;$(".error-jk").html("Pilih Jenis Kelamin")}
if(hp==""){valid=!1;$(".input-hp").addClass("input-error");$(".error-hp").html("No. HP harus diisi")}
if(valid){$(".form-value-email").html(email);$(".form-value-nama-depan").html(namaDepan);var jenisKelamin="Laki - laki";if(jk=="p"){jenisKelamin="Perempuan"}
$(".form-value-jenis-kelamin").html(jenisKelamin);$(".form-value-no-hp").html(hp);$(".dialog-detail").addClass("show")}else{showNotification("Silakan cek isian")}}});$(".dialog-box").on("click",function(e){e.stopPropagation()});$(".dialog-close-icon, .dialog-background").on("click",function(){$(this).closest(".dialog").removeClass("show")});$(document).on("keydown",function(e){if(e.which==27){$(".dialog").removeClass("show")}});$(".btn-confirm-submit").on("click",function(){if(!$(this).hasClass("disabled")){$(".form-daftar").submit()}})});function clearAllErrors(){$(".input-error").removeClass("input-error");$(".error").html("")}